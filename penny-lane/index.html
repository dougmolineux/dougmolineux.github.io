<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Penny Lane Financial Report</title>
<style>
body {
  font-family: 'Arial', sans-serif;
  line-height: 1.6;
  margin: 20px;
}
h1, h2 {
  color: #333;
}
table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 20px;
}
th, td {
  border: 1px solid #ddd;
  padding: 8px;
  text-align: left;
}
th {
  background-color: #f2f2f2;
}
.positive {
  color: green;
  font-weight: bold;
}
.negative {
  color: red;
  font-weight: bold;
}
.chart-container {
  width: 50%;
  float: left;
  margin-right: 2%;
}
.chart-container:last-child {
  margin-right: 0;
}
</style>
</head>
<body>
  <header>
    <h1>Penny Lane Financial Report</h1>
    <p>Generated: October 26, 2023</p>
  </header>

  <section>
    <h2>Stock Analysis</h2>

    <!--  Placeholder for JSON data -  Replace this with your actual JSON data -->
    <script>
      const stockData = [
        { "ticker": "AAPL", "politicianBuys": 5, "rmwsb": 1200, "sm": 0.8, "riskAnalysis": "positive", "24hrReturn": 0.01, "monthlyReturn": 0.05, "yearlyReturn": 0.2 },
        { "ticker": "MSFT", "politicianBuys": 3, "rmwsb": 800, "sm": 0.7, "riskAnalysis": "positive", "24hrReturn": 0.005, "monthlyReturn": 0.03, "yearlyReturn": 0.15 },
        { "ticker": "GOOG", "politicianBuys": 5, "rmwsb": 1000, "sm": 0.9, "riskAnalysis": "positive", "24hrReturn": 0.015, "monthlyReturn": 0.06, "yearlyReturn": 0.25 },
        { "ticker": "TSLA", "politicianBuys": 2, "rmwsb": 1500, "sm": 0.6, "riskAnalysis": "negative", "24hrReturn": -0.01, "monthlyReturn": -0.02, "yearlyReturn": 0.1 }
      ];
    </script>

    <script>
      function createTable(data) {
        const table = document.createElement('table');
        const headerRow = table.insertRow();
        const headers = ['Ticker', 'Politician Buys', 'Reddit Mentions', 'Social Media Sentiment', 'Risk Analysis', '24hr Return', 'Monthly Return', 'Yearly Return'];
        headers.forEach(header => {
          const th = document.createElement('th');
          th.textContent = header;
          headerRow.appendChild(th);
        });

        data.forEach(stock => {
          const row = table.insertRow();
          Object.values(stock).forEach(value => {
            const cell = row.insertCell();
            let content = value;
            if (typeof value === 'number') content = value.toFixed(2);

            if (stock.riskAnalysis === "positive") {
              cell.classList.add('positive');
            } else {
              cell.classList.add('negative');
            }

            cell.textContent = content;
          });
        });
        return table;
      }

      const stockTable = createTable(stockData);
      document.body.appendChild(stockTable);


      //Ranking Logic (Implement your sorting algorithm here based on the provided criteria)
      stockData.sort((a, b) => {
          if (a.politicianBuys !== b.politicianBuys) return b.politicianBuys - a.politicianBuys; //More Politician buys first
          if (a.rmwsb !== b.rmwsb) return b.rmwsb - a.rmwsb; //More Reddit Mentions second
          return b.sm - a.sm; //Higher Social Sentiment last
      });

      //Output Ranked List
      const rankedList = document.createElement('ol');
      stockData.forEach((stock, index) => {
          const listItem = document.createElement('li');
          listItem.textContent = `${index + 1}. ${stock.ticker} (Politician Buys: ${stock.politicianBuys}, Reddit Mentions: ${stock.rmwsb}, Sentiment: ${stock.sm})`;
          rankedList.appendChild(listItem);
      });
      document.body.appendChild(rankedList);
      document.body.appendChild(document.createElement('br'));


    </script>

    <h2>Summary and Recommendations</h2>
    <p>Based on the analysis of politician buys, Reddit mentions, and social media sentiment, the stocks are ranked in the order presented above.  </p>
    <p><strong>Disclaimer:</strong> This analysis is for informational purposes only and does not constitute financial advice.  Conduct your own thorough research before making any investment decisions.</p>

    <!-- Placeholder for charts -->
    <p>Charts will be added here based on the data.  For this example the data is static.</p>


  </section>
</body>
</html>