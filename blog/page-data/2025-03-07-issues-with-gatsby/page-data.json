{"componentChunkName":"component---src-templates-blog-post-js","path":"/2025-03-07-issues-with-gatsby/","result":{"data":{"markdownRemark":{"html":"<h2>The Perils of Gatsby MDX Setup</h2>\n<p>I spent sometime trying to get Gatsby set up here on this blog, and had a few problems getting Gatsby to work. I wanted to use MDX files for my posts, which from what i gather, allows you to insert react components directly into your markdown files. I encountered a few obstacles:</p>\n<ol>\n<li>\n<p><strong>Dependency Hell</strong></p>\n<ul>\n<li>Constant version conflicts between <code>gatsby-plugin-mdx</code>, <code>@mdx-js/react</code>, and other packages</li>\n<li>Endless <code>ERESOLVE</code> errors during installation</li>\n</ul>\n<pre><code class=\"language-bash\">npm ERR! code ERESOLVE\nnpm ERR! Could not resolve dependency: @mdx-js/react@\"^3.1.0\"\n</code></pre>\n</li>\n</ol>\n<p>I ended up just restarting from scratch completely  (<code>gatsby new</code>), somehow I had gotten the mdx dependencies completely mixed up. After starting from scratch, I still ran into some issues, but at least <code>npm install</code> worked again.</p>\n<ol start=\"2\">\n<li><strong>GraphQL Quirks</strong>\n<ul>\n<li>Mysterious <code>Cannot query field \"allMdx\"</code> errors</li>\n<li>Schema conflicts between MDX and regular Markdown</li>\n</ul>\n</li>\n</ol>\n<p>This was from following a tutorial that converted a normal md blog to mdx, it seemed like I missed a few <code>allMdx</code> string replacements.</p>\n<ol start=\"3\">\n<li>\n<p><strong>Component Confusion</strong></p>\n<ul>\n<li><code>Element type is invalid</code> errors due to:</li>\n<li>Incorrect component imports/exports</li>\n<li>Case sensitivity issues in file paths</li>\n<li>Missing parent components like <code>Layout</code></li>\n</ul>\n<p>In the end, I think this had to do with the Mdx component that I was referencing, which was incorrectly imported into the project.</p>\n</li>\n<li>\n<p><strong>Path Problems</strong></p>\n<ul>\n<li>Double <code>/blog/blog/</code> in URLs from slug generation issues</li>\n<li>404 errors due to incorrect page creation</li>\n</ul>\n</li>\n</ol>\n<p>This may have been due to a suggestion from Claude which recommended to keep \"blog\" prefix in one of the template files. It took a while to figure out</p>\n<h2>The Solutions We Tried</h2>\n<pre><code class=\"language-javascript\">// Switched to plain Markdown in desperation\nmodule.exports = {\n  plugins: [\n    `gatsby-transformer-remark`, // The hero we needed\n    {\n      resolve: `gatsby-source-filesystem`,\n      options: { path: `${__dirname}/src/posts` }\n    }\n  ]\n}\n</code></pre>\n<p>Other fixes included:</p>\n<ul>\n<li><code>gatsby clean</code> is a useful command that seemingly fixed some things, but not always. I started using <code>gatsby clean &#x26;&#x26; gatsby development</code> by the end of it.</li>\n<li>Manual cache deletion when Gatsby got stubborn</li>\n<li>Hours of comparing config files line-by-line</li>\n<li>Restarting from scratch at least twice</li>\n</ul>\n<h2>Final Conclusion</h2>\n<p>Ultimately I switched to regular Markdown files, not a terrible compromise, but will be unable to use react components.</p>","frontmatter":{"title":"Issues with Gatsby","date":"2025-03-07T00:00:00.000Z"}}},"pageContext":{"slug":"/2025-03-07-issues-with-gatsby/"}},"staticQueryHashes":[],"slicesMap":{}}